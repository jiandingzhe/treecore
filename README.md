treecore
========

a reforged JUCE core library with CMake build control and more regular project layout

Introduction
------------

We found JUCE library very useful, but we are not satisfied with JUCE's project layout, so we reformed it and added/modified some features.

  - everything in *treejuce* namespace.
  - SIMD operations.
  - atomic operations wrapped into functions, instead of objects.
  - picked out network system because we don't need it.
  - reforged reference counted object class and its holder class.
  - system config macros are generated by CMake proxy and file generation, not by a series of macro proxy.
  - use MT19937 to replace juce::Random.

Compile from Source Code
------------------------

### Prerequisites

  - cmake
  - some compiler, such as MSVC, GCC (or MinGW), CLang...
  - under Linux: build tools like GNU make

### Build in Linux, or Windows using MinGW

Firstly, create a directory to hold the build results. This directory is
preferably outside the source directory:

    $ mkdir treejuce-build

Then run cmake in this directory, using the source directory as its argument.
You may also specify a install prefix, otherwise treejuce will be installed to
system-wide /usr/local.

    $ cd treejuce-build
    $ cmake /home/yourname/path_to_source/treejuce -DCMAKE_INSTALL_PREFIX=/home/yourname/software/treejuce

After that, a *Makefile* should have been created. Run *make* to build all
stuffs:

    $ make

If every thing goes OK, run make install to copy headers and libraries to
install prefix:

    $ make install

### Bulid in Windows using MSVC

1. Run cmake GUI from start menu.

2. Specify treejuce source directory and the build directory.

3. Click "configure" button at the bottom of the window. It will pop up a dialog
   to let you select the generator. Select the MSVC generator with version you
   prefer.

4. The project will be configured and showing a lot of options. At this time,
   you may specify *CMAKE_INSTALL_PREFIX*.

5. Click "configure" button again, until there are no option entries showing in
   red (which means it is changed in this turn of configuration).

6. Click "generate" button. The MSVC stuffs should have been generated into the
   build directory.

7. Double click the *.sln* MSVC solution file. MSVC should be opened, and you
   can do the build stuffs inside it.

8. You can build the *INSTALL* project to have the libraries and the headers
   installed to the directory specified by *CMAKE_INSTALL_PREFIX*.
